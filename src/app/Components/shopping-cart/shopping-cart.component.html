<div class="container mt-3">
  <div class="row breadcrumb col-12">
    <ul class="breadcrumb m-0">
      <li>
        <a class="home" routerLink="/"
          ><i class="fa-solid fa-house-chimney"></i
        ></a>
      </li>
      <li><a routerLink="/shopping-cart">Shopping Cart</a></li>
    </ul>
  </div>
  <div class="row col-12 m-0 mt-5">
    <h2 class="ps-0">Shopping Cart</h2>
    <table class="table table-bordered text-center">
      <thead>
        <tr class="">
          <th class="col-2">Image</th>
          <th class="col-5">Product Name</th>
          <th class="col-2">Quantity</th>
          <th class="col-1">Unit Price</th>
          <th class="col-2">Total</th>
        </tr>
      </thead>
      <tbody>
        @if(products.length > 0){ @for(pr of products; track pr.id){
        <tr
          class="w-100"
          app-cart-element
          [product]="pr"
          [user]="User"
          (setSubTotal)="getSubtotal($event)"
        ></tr>
        } } @else {
        <tr>
          <td class="m-3 col-2">
            <img
              src="assets/cart-placeholder.png"
              class="border border-secondary"
            />
          </td>
          <td class="m-2 col-5">
            <p class="placeholder-glow col-12">
              <span class="placeholder col-12 placeholder-lg"></span>
            </p>
            <p class="placeholder-glow col-12 text-start">
              <span class="placeholder col-6 placeholder-lg"></span>
            </p>
          </td>
          <td class="m-2 col-2">
            <p class="placeholder-glow col-12">
              <span class="placeholder col-8 placeholder-lg"></span>
            </p>
          </td>
          <td class="m-2 col-1">
            <p class="placeholder-glow col-12">
              <span class="placeholder col-8 placeholder-lg"></span>
            </p>
          </td>
          <td class="m-2 col-2">
            <p class="placeholder-glow col-12">
              <span class="placeholder col-8 placeholder-lg"></span>
            </p>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  <div class="row m-0 d-flex justify-content-between gap-lg-0 gap-2">
    <div
      id="accordion"
      class="accordion col-lg-9 col-12 d-flex align-items-start p-0 pe-lg-2"
    >
      <div class="card col-12 p-0">
        <div class="card-header" id="headingOne">
          <h5 class="mb-0">
            <button
              class="btn btn-link"
              data-toggle="collapse"
              data-target="#collapseOne"
              aria-expanded="true"
              aria-controls="collapseOne"
            >
              <strong>Terms & Conditions of Use:</strong>
            </button>
          </h5>
        </div>

        <div
          id="collapseOne"
          class="collapse show"
          aria-labelledby="headingOne"
          data-parent="#accordion"
        >
          <div class="card-body">
            The privacy policies of PetShop explain how we treat your personal
            data and protect your privacy when using PetShop. You may need to
            provide service providers with some of your personal information,
            such as your name and email address, for purposes of processing your
            transactions or providing you with content, as service providers
            agree to use this information in accordance with their privacy
            policies.
          </div>
        </div>
      </div>
    </div>
    <div class="table-responsive col-lg-3 col-12 p-0">
      <table class="table table-bordered">
        <tbody>
          <tr>
            <td class="col-4">Sub-Total:</td>
            <td class="col-8">{{ subTotal | currency : "EGP " }}</td>
          </tr>
          <tr>
            <td class="col-4">Vat (15%):</td>
            <td class="col-8">{{ subTotal * 0.15 | currency : "EGP " }}</td>
          </tr>
          <tr>
            <td class="col-4">Total:</td>
            <td class="col-8">
              {{ subTotal + subTotal * 0.15 | currency : "EGP " }}
            </td>
          </tr>
        </tbody>
      </table>
      <button routerLink="/checkout" class="btn btn-success col-12">
        Checkout
      </button>
    </div>
  </div>
</div>
